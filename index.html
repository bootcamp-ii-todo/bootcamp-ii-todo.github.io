<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <base href="/">

    <!-- configuration script -->
    <script>
        const isProd = window.location.protocol === 'https:';
        const API_URL = isProd
            ? 'https://super-todos.herokuapp.com/api'
            : 'http://localhost:3000/api';
        
        const base = isProd ? '/todo-client' : '/';
        document.querySelector('base').setAttribute('href', base);
        
        window.module = {};
    </script>


    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/main.css">

    <title>Todo Demo</title>
</head>
<body>
    
    <header>
        <div class="header-container">
            <a href="/">
                <img class="logo" src="/acl.png" alt="logo">
            </a>
            <h1>Bootcamp II Todo</h1>
            <div class="icon-menu"></div>
        </div>
        <nav class="nav-menu">
            <ul>
            <li><a href="/">home</a></li>
            <li><a href="/about">about</a></li>
            <li><a href="/todos/new">new todo</a></li>
            <li><a href="/admin">admin login</a></li>
            </ul>
        </nav>
    </header>

    <main>

        <!-- *** views *** -->

        <section id="about-view" class="view">
            <h2 class="view-title">About</h2>
            <p>All about some demo todos. Oh, and client side routing</p>
        </section>

        <section id="todo-view" class="view">
            <h2 class="view-title">My Todos</h2>
            <ul id="todos"></ul>
        </section>

        <section id="todo-new-view" class="view">
            <h2 class="view-title">Add A Todo</h2>
            <form id="add-todo">
                <div>
                    <label>
                        <div>Task:</div>
                        <input id="todo-task" name="task">
                    </label>
                </div>

                <div>
                    <fieldset>
                        <legend>Priority</legend>
                        <label>
                            <input type="radio" name="priority" value="1"> 1
                        </label>
                        <label>
                            <input type="radio" name="priority" value="2"> 2
                        </label>
                        <label>
                            <input type="radio" name="priority" value="3" checked> 3
                        </label>
                        <label>
                            <input type="radio" name="priority" value="4"> 4
                        </label>
                        <label>
                            <input type="radio" name="priority" value="5"> 5
                        </label>
                    </fieldset>
                </div>

                <div>
                    <label>
                        <div>Notes:</div>
                        <textarea id="todo-notes" name="notes"></textarea>
                    </label>
                </div>

                <div>
                    <button>Add</button>
                </div>
            </form>
        </section>

        <section id="todo-detail-view" class="view"></section>

        <section id="admin-view" class="view">
            <h2 class="view-title">verify your passphrase</h2>
            <form id="admin-form">
                <input id="passphrase" name="passphrase" placeholder="passphrase">
                <button type="submit">verify</button>
            </form>
            <p id="logged-in">you are logged in</p>
        </section>
        
        <section id="error-view" class="view"></section>
        
    </main>


    <!-- *** templates *** -->

    <script id="todo-template" type="text/x-handlebars">
        <li class="todo-items" data-id={{id}}>
            <p class="{{#if completed}}completed{{/if}}">
                {{#if completed}}☑{{else}}☐{{/if}}
                <a href="/todos/{{id}}">
                    {{task}}
                </a>
            </p>
        </li>
    </script>

    <script id="todo-detail-template" type="text/x-handlebars">
        <div class="todo-container">
            <h2>{{task}}</h2>
            <div class="todo-details">
                <p><strong>{{reminder}}</strong></p>
                <p>Priority: {{priority}}</p>
                <p>Notes:</p>
                <p>{{notes}}</p>
            </div>
            <div>
                <button id="todo-delete">Delete</button>
            </div>
        </div>
    </script>

    <script id="error-template" type="text/x-handlebars-template">
        <h3>Oops, something went wrong!</h3>
        <p>{{status}}: {{statusText}}</p>
    </script>

    <!-- *** scripts *** --> 

    <!-- vendor scripts: full url with https protocol -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/page.js/1.8.4/page.min.js"></script> -->
    
    <!-- app scripts: relative path url -->
    <script src="scripts/models/todo.js"></script>
    <!-- <script src="scripts/models/admin.js"></script> -->
    <script src="scripts/views/error-view.js"></script>
    <script src="scripts/views/todo-view.js"></script>
    <script src="scripts/views/about-view.js"></script>
    <!-- <script src="scripts/views/admin-view.js"></script> -->
    <script src="scripts/app.js"></script> 
    <!-- app (controller) goes last because it is going to use models and views -->

</body>
</html>